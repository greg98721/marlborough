<div *ngIf="vm$ | async as vm" class="layout">
  <div></div>
  <div class="date-block">
    <div>{{ vm.dayRange[0] | date:'cccc' }}</div>
    <div>{{ vm.dayRange[0] | date:'d LLLL' }}</div>
  </div>
  <div class="date-block">
    <div>{{ vm.dayRange[1] | date:'cccc' }}</div>
    <div>{{ vm.dayRange[1] | date:'d LLLL' }}</div>
  </div>
  <div class="date-block">
    <div>{{ vm.dayRange[2] | date:'cccc' }}</div>
    <div>{{ vm.dayRange[2] | date:'d LLLL' }}</div>
  </div>
  <div class="date-block">
    <div>{{ vm.dayRange[3] | date:'cccc' }}</div>
    <div>{{ vm.dayRange[3] | date:'d LLLL' }}</div>
  </div>
  <div class="date-block">
    <div>{{ vm.dayRange[4] | date:'cccc' }}</div>
    <div>{{ vm.dayRange[4] | date:'d LLLL' }}</div>
  </div>
  <ng-container *ngFor="let timetable of vm.flightData">
    <div class="timetable-block">
      <div class="departs">{{timetable.timetableFlight.departs | minute }} â†’ {{timetable.timetableFlight.arrives | minute }}</div>
      <div class="flight-number">{{timetable.timetableFlight.flightNumber}}</div>
    </div>
    <div class="flight-block">
      <a *ngIf="timetable.flights[0] && timetable.flights[0].emptySeats > 0" class="price">{{timetable.flights[0].price | currency: 'NZD'}}</a>
      <div *ngIf="timetable.flights[0] && timetable.flights[0].emptySeats > 0">{{timetable.flights[0].emptySeats}} seats available</div>
      <div *ngIf="timetable.flights[0] && timetable.flights[0].emptySeats <= 0" class="fully-booked">Fully Booked</div>
    </div>
    <div class="flight-block">
      <a *ngIf="timetable.flights[1] && timetable.flights[1].emptySeats > 0" class="price">{{timetable.flights[1].price | currency: 'NZD'}}</a>
      <div *ngIf="timetable.flights[1] && timetable.flights[1].emptySeats > 0">{{timetable.flights[1].emptySeats}} seats available</div>
      <div *ngIf="timetable.flights[1] && timetable.flights[1].emptySeats <= 0" class="fully-booked">Fully Booked</div>
    </div>
    <div class="flight-block">
      <a *ngIf="timetable.flights[2] && timetable.flights[2].emptySeats > 0" class="price">{{timetable.flights[2].price | currency: 'NZD'}}</a>
      <div *ngIf="timetable.flights[2] && timetable.flights[2].emptySeats > 0">{{timetable.flights[2].emptySeats}} seats available</div>
      <div *ngIf="timetable.flights[2] && timetable.flights[2].emptySeats <= 0" class="fully-booked">Fully Booked</div>
    </div>
    <div class="flight-block">
      <a *ngIf="timetable.flights[3] && timetable.flights[3].emptySeats > 0" class="price">{{timetable.flights[3].price | currency: 'NZD'}}</a>
      <div *ngIf="timetable.flights[3] && timetable.flights[3].emptySeats > 0">{{timetable.flights[3].emptySeats}} seats available</div>
      <div *ngIf="timetable.flights[3] && timetable.flights[3].emptySeats <= 0" class="fully-booked">Fully Booked</div>
    </div>
    <div class="flight-block">
      <a *ngIf="timetable.flights[4] && timetable.flights[4].emptySeats > 0" class="price">{{timetable.flights[4].price | currency: 'NZD'}}</a>
      <div *ngIf="timetable.flights[4] && timetable.flights[4].emptySeats > 0">{{timetable.flights[4].emptySeats}} seats available</div>
      <div *ngIf="timetable.flights[4] && timetable.flights[4].emptySeats <= 0" class="fully-booked">Fully Booked</div>
    </div>
  </ng-container>
</div>
